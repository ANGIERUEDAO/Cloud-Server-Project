## **Domain Setup (DNS) & Enabling SSL/TLS Manually**
___
You can find in this section detailed instructions on setting up **DNS** for your domain and manually enabling **SSL/TLS** on an IIS server.  

##  **Step 1: Purchase & Configure a Domain Name**
If you haven't purchased a domain yet, consider using **Namecheap, Google Domains,Godaddy, or Cloudflare**.
We will be using Godaddy

- Buy a domain (e.g., `yourdomain.com`).  
- Go to **your domain registrar's dashboard**.  
- Open **DNS settings**.  
- Add the following **records**:

| Record Type | Hostname | Value (Target)         | TTL  |
|------------|---------|----------------------|------|
| A          | @       | **Your Public IP**    | Auto |
| A          | www     | **Your Public IP**    | Auto |
| CNAME      | nextcloud | yourdomain.com    | Auto |
| CNAME      | vpn     |`yourdomain.com    | Auto |

- **Save DNS records** and wait **9-30 minutes** for propagation.  

____
![Screenshot 2025-06-14 032849](https://github.com/user-attachments/assets/6bb427de-e962-40f7-a494-28a25dcb9ce4)
___

## **Step 2: Verify DNS Propagation**  
- Ensure your **domain points to your server**:

- Open **Command Prompt (Windows)** or **Terminal (Mac/Linux)**.  
- Run the following command:
```powershell
nslookup yourdomain.com
```
__________

Screenshot here
_______

## **Step 3: Generate an SSL/TLS Certificate**

- Download and Extract win-acme
- Go to the official win-acme site ðŸ‘‰ here.
- Download the latest win-acme.v2.x.x.xx.x64.trimmed.zip (for 64-bit systems).
- Extract the ZIP file to:
C:\win-acme
- Ensure the folder contains wacs.exe.

## **Step 4: Run win-acme to Request an SSL Certificate**
- Open PowerShell as Administrator (Win + X â†’ Windows Terminal (Admin)).
- Navigate to the win-acme folder:

```powershell
cd C:\win-acme
Run win-acme:
```
```powershell
wacs.exe
```
- Follow the prompts:
- Choose "M" â†’ Create a new certificate.
- Select "2" â†’ Manual input (since youâ€™re using GoDaddy DNS).
- Enter your domain name (e.g., yourdomain.com). In this case:
  
alspot.online
nextcloud.alspot.online
vpn.alspot.online
wordpress.alspot.online
 
- Choose "4" â†’ Single certificate
- Choose Option 6: Manual DNS Verification
Selecting this option means you'll manually add TXT records in GoDaddy DNS.
**Important:** Since this method doesnâ€™t allow automatic renewals, youâ€™ll have to repeat this process for future SSL renewals.
- Select 2 **(RSA key)**
- Select 4 **(Windows Certificate Store (Local Computer)**
- Select 1 **WebHosting** since it's specifically designed for IIS certificates and allows IIS to directly manage SSL bindings.
- Select 5 **(No additional store steps)** to keep things simple
- Select 1 **Create or update bindings in IIS**
- Select 3: **No (additional) installation steps**
-  Choose site to create new bindings: alspot.online
- **Open in default application? (y/n*)** type: y
- **Do you agree with the terms? (y*/n)**type: y
Ensures proper renewal and compatibility with hosted websites.
- Copy the TXT record win-acme provides 
_______
![Screenshot 2025-06-14 201345](https://github.com/user-attachments/assets/a69014a0-56b8-473f-b5d5-db3ef69f6c16)
____
**Step 5: Add TXT Record in GoDaddy DNS**
- Log into GoDaddy â†’ Open DNS Settings.
- Click Add Record â†’ Select TXT edit
- Type: TXT
- Name: _acme-challenge.yourdomain.com
- Data: (Paste the TXT record from win-acme)
- Click Save and wait 10-30 minutes for propagation.
__
![Screenshot 2025-06-14 201259](https://github.com/user-attachments/assets/dfad0f14-e636-42e6-a62b-22dc887d87b4)
_____
 **Please press <Enter> after you've deleted the record in win-acme**
 
**Step 6: Complete SSL Certificate Reques**
Go back to PowerShell.
Press Enter in win-acme to continue.
If validation succeeds, win-acme will generate your SSL certificate.

The certificate files will be saved in:

C:\ProgramData\win-acme\acme-v02.api.letsencrypt.org\Certificates\

Once issued, you'll be able to bind it to IIS for HTTPS.
___
![image](https://github.com/user-attachments/assets/76ba0906-7028-4417-805a-31999a21c5b4)
**(SSL certificate has been successfully installed)**
_____

**Step 5: Install SSL Certificate in IIS**

- Open IIS Manager (Win + R â†’ inetmgr â†’ Enter).
- Configure Nextcloud Under "Default Web Site", Nextcloud is probably installed inside its subdirectory.
- Add an HTTPS binding for nextcloud.alspot.online to Default Web Site:
   - Click Sites â†’ Select Default Web Site.
   - Click Bindings (right panel).
   - Click Add â†’ Select HTTPS.
   - Enter details:
   - Type: https
   - IP Address: All Unassigned
   - Host Name: nextcloud.alspot.online
   - SSL Certificate: Select Let's Encrypt certificate from win-acme.
- Click OK â†’ Restart IIS:
```powershell
iisreset
```
___
![Screenshot 2025-06-14 203726](https://github.com/user-attachments/assets/525426aa-3269-4028-9256-7702591da840)
____

**Step 6: Enable TLS for Security**
Enable SSL in IIS
Open IIS Manager (Win + R â†’ inetmgr â†’ Enter).
Click Sites â†’ Select Default Web Site (or nextcloud.alspot.online if configured separately).
Click SSL Settings (right panel).
Check Require SSL â†’ Click Apply.
__
![image](https://github.com/user-attachments/assets/0fedd3b0-2ca9-43d0-be5d-fa382ca521a6)
___
**This forces HTTPS-only connections, improving security.**

**Step 7: Ensure Your SSL Certificate is Active**
Open IIS Manager.
Click Server Certificates (left panel).
Check if your Let's Encrypt certificate is listed.
If missing, import the certificate manually:
Click Import â†’ Select the PFX file from C:\ProgramData\win-acme\acme-v02.api.letsencrypt.org\Certificates\
Click OK.
___
![image](https://github.com/user-attachments/assets/c8a74a67-5bc3-40ae-b2b5-0914101043fb)
____

**Step 8: Enable TLS 1.2 and 1.3 via Registry Editor** 
TLS versions are disabled by default in older Windows setups
â€” turn them on manually:
- Open Registry Editor
- Press Win + R â†’ Type regedit â†’ Hit Enter.
Navigate to:

HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols
- Enable TLS 1.2
- Right-click Protocols â†’ Click New â†’ Key â†’ Name it TLS 1.2.
- Inside TLS 1.2, create two more keys:
   - Client
   - Server
- Inside Client and Server, create a DWORD (32-bit) Value:
   - Name: Enabled
   - Value: 1
   - Enable TLS 1.3
- Same stepsâ€”create a key TLS 1.3 under Protocols.
- Add Client and Server keys.
- reate Enabled DWORD values â†’ Set to 1.
____
![image](https://github.com/user-attachments/assets/965e7aad-e9de-4711-9e85-4ce3d22d4233)
____
**Restart your server to apply changes**

**Step 9: Restart IIS and Test HTTPS**
- Restart IIS:
```powershell
iisreset
```
- Open Chrome or Edge â†’ Go to:

https://alspot.online
______
![image](https://github.com/user-attachments/assets/53013f27-1c8b-4d7b-bf90-569a6dd9761c)

_______


## Final Steps:

-  Verify SSL:

- Open https://yourdomain.com in your browser.

You should see a  padlock indicating SSL is working.



